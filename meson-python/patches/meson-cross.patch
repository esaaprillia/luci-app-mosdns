From 47e9bc9c17904ce6f0e5d1ccf0bce9414f57c56c Mon Sep 17 00:00:00 2001
From: esaaprillia <esaapriliasalsabila@gmail.com>
Date: Wed, 27 Nov 2024 00:55:36 +0800
Subject: [PATCH] Update __init__.py

---
 mesonpy/__init__.py | 24 ++----------------------
 1 file changed, 2 insertions(+), 22 deletions(-)

diff --git a/mesonpy/__init__.py b/mesonpy/__init__.py
index 4d785a3..15ebd52 100644
--- a/mesonpy/__init__.py
+++ b/mesonpy/__init__.py
@@ -639,8 +639,8 @@ def __init__(
         self._source_dir = pathlib.Path(source_dir).absolute()
         self._build_dir = pathlib.Path(build_dir).absolute()
         self._editable_verbose = editable_verbose
-        self._meson_native_file = self._build_dir / 'meson-python-native-file.ini'
-        self._meson_cross_file = self._build_dir / 'meson-python-cross-file.ini'
+        self._meson_native_file = self._build_dir / 'openwrt-native.txt'
+        self._meson_cross_file = self._build_dir / 'openwrt-cross.txt'
         self._meson_args: MesonArgs = collections.defaultdict(list)
         self._limited_api = False
 
@@ -777,26 +777,6 @@ def _run(self, cmd: Sequence[str]) -> None:
         if r.returncode != 0:
             raise SystemExit(r.returncode)
 
-    def _configure(self, reconfigure: bool = False) -> None:
-        """Configure Meson project."""
-        setup_args = [
-            os.fspath(self._source_dir),
-            os.fspath(self._build_dir),
-            # default build options
-            '-Dbuildtype=release',
-            '-Db_ndebug=if-release',
-            '-Db_vscrt=md',
-            # user build options
-            *self._meson_args['setup'],
-            # pass native file last to have it override the python
-            # interpreter path that may have been specified in user
-            # provided native files
-            f'--native-file={os.fspath(self._meson_native_file)}',
-        ]
-        if reconfigure:
-            setup_args.insert(0, '--reconfigure')
-        self._run(self._meson + ['setup', *setup_args])
-
     @property
     def _build_command(self) -> List[str]:
         assert self._ninja is not None  # help mypy out
